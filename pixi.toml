[project]
name = "dotnetup"
description = "dotnet sdk version manager (ala: rustup)"
authors = ["Brad Jones <brad@bjc.id.au>"]
channels = ["https://prefix.dev/brads-forge", "conda-forge"]
platforms = ["win-64", "linux-64", "osx-64", "osx-arm64"]

[tasks]
init = "task init"

[tasks.code]
depends-on = ["init"]
cmd = "code ."

[dependencies]
deno = ">=2.5.1,<2.6"
rattler-build = ">=0.47.0,<0.48"
task = ">=3.45.4,<4"

[target.linux-64.dependencies]
__glibc = "*"
clang = ">=21.1.1,<22"
cocogitto = ">=6.3.0,<7"
curl = ">=8.14.1,<9"
dprint = ">=0.50.2,<0.51"
go-shfmt = ">=3.12.0,<4"
icu = ">=75.1,<76"
krb5 = ">=1.21.3,<2"
lefthook = ">=1.13.1,<2"
libcurl = ">=8.14.1,<9"
llvm-tools = ">=21.1.1,<22"
lttng-ust = ">=2.13.9,<3"
tar = ">=1.35,<2"
zlib = ">=1.3.1,<2"
tree = ">=2.2.1,<3"

[activation.env]
DOTNET_ROOT = "$CONDA_PREFIX/lib/dotnet"
DOTNET_TOOLS = "$DOTNET_ROOT/tools"
DOTNET_TOOLS_PATH = "$DOTNET_TOOLS"
DOTNET_ADD_GLOBAL_TOOLS_TO_PATH = "false"
DOTNET_CLI_TELEMETRY_OPTOUT = "true"
PATH = "$DOTNET_ROOT:$DOTNET_TOOLS_PATH:$PATH"
